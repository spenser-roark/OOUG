<% provide(:title, "Add A New Accessory") %>
<%= render 'shared/accessory_error_messages' %> 
<div class="row span10 new-body">
  <div class="">

    <%= form_for(@accessory, url: {action: "create"}, :html => {:class => "form-horizontal"}) do |f| %>

    <div class="control-group offset2" id="accessories_region_div">
      <%= f.label :region, class: "control-label"%>
      <div class="controls">
	<%= f.select( :region_id, options_for_select(@region_array, :selected => "")) %>
      </div>
    </div>

    <div class="control-group" id="accessories_jap_name_div">
      <%= f.label :jap_title, "Japanese Name",class: "control-label", id: "jap_name_name"%>
      <div class="controls">
	<%= f.text_field :jap_title, class: "input-medium"%>
      </div>
    </div>

    <div class="control-group pull-right">
      <%= f.label :eng_title, "English Name",class: "control-label"%>
      <div class="controls">
	<%= f.text_field :eng_title, class: "input-medium" %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label :accessories_ean, "UPC",class: "control-label"%>
      <div class="controls">
	<%= f.text_field :accessories_ean, class: "input-medium", :maxlength=>"14" %><span class="icon-question-sign" id="new-tooltip" tooltip='This is the barcode number. Please include all numbers including the leading/trailing 0s and any letters. E.g. early SFC accessories include a leading T'></span>
      </div>
    </div>

    <div class="control-group offset2">
      <%= f.label :console_general_id, "Console", class: "control-label"%>
      <div class="controls">
	<%= f.select( :console_general_id, options_for_select(@console_array)) %>
      </div>
    </div>

    <div class="offset4">
      <%= f.submit "Create accessory", class: "btn btn-primary btn-sm" %>
      </div>
    <% end %>
</div>
</div>

<script type="text/javascript">
      $("#accessories_jap_title").hide();
      $("#jap_name_name").hide();

      $("#accessories_region_id").change(function() {
      if ($("#accessories_region_id").val()=="1")
      {
      $("#accessories_jap_title").show();
      $("#jap_name_name").show();
      $("#accessories_jap_name_div").attr('class', 'control-group pull-right');
      $("#accessories_region_div").attr('class', 'control-group pull-left');
      }
      else
      {
      $("#accessories_jap_title").hide();
      $("#jap_name_name").hide();
      $("#accessories_jap_name_div").attr('class', 'control-group');
      $("#accessories_region_div").attr('class', 'control-group offset2');
      }
      if ($("#accessories_region_id").val()=="1") {
        $(".control-label[for='accessories_accessories_ean']").text('JAN');
      }
      else if ($("#accessories_region_id").val()=="2") {
        $(".control-label[for='accessories_accessories_ean']").text('UPC');
      }
      else if ($("#accessories_region_id").val()=="3") {
        $(".control-label[for='accessories_accessories_ean']").text('EAN');
      }
      else if ($("#accessories_region_id").val()=="4") {
        $(".control-label[for='accessories_accessories_ean']").text('EAN');
      }
      });
    </script>
